---
title: "Volumen Breakout Monitor"
output: 
    html_document:
        theme: readable
---

Dieses Projekt befindet sich ___Beta Stadium___ und ist somit ___in der Entwicklung___.

# Idee  

> Die Idee ist folgende: Kreiere einen Report, der täglich (für das vorausgegangene Closing) ein Set an Aktien daraufhin monitored, ob es eine signifikante Veränderung im Handelsvolumen gegeben hat.

Der Trigger sei folgender: Wenn das Handelsvolumen 3-mal größer ist als das durchschnittliche Handelvolumen der letzten 2 Monate, dann generiere ein Signal.

# Implementierung

Zunächst sei das Monitoring für die 30 DAX Werte umgesetzt.


```{r load, include=FALSE}
knitr::opts_chunk$set(warning=FALSE, message=FALSE, echo=FALSE)


options("getSymbols.warning4.0"=FALSE)
suppressPackageStartupMessages(library(googleVis))
library(xts)
library(quantmod)
library(XML)
library(googleVis)

op <- options(gvis.plot.tag='chart')


#http://stackoverflow.com/questions/24377590/getsymbols-downloading-data-for-multiple-symbols-and-calculate-returns


dax_url <- "http://finance.yahoo.com/q/cp?s=^GDAXI+Components"
dax_tbl <- readHTMLTable(dax_url)
#str(tables$yfncsumtab$V1)
dax_list <- as.character(dax_tbl$yfncsumtab$V1[6:35, drop=TRUE])
StartDate <- as.Date("2013-01-01")
stocks <- new.env()
getSymbols(dax_list, from=StartDate, env=stocks)

dax_vol <- eapply(stocks, Vo)
dax_vol <- as.xts(do.call(merge, dax_vol))
# adjust column names are re-order columns
colnames(dax_vol) <- gsub(".Volume","",colnames(dax_vol))
dax_vol[dax_vol==0] <- NA # replace 0 with NA

dax_vbt <- dax_vol / (3*rollapply(dax_vol, width=40, FUN=mean, na.rm=T, align="right"))


```

Es wird der Volumen-Breakout-Wert berechnet als das letzte Volumen dividiert durch das dreifache Durchschnittsvolumen der letzten 40 Tage.   
Ein Wert von größer als eins zeigt somit an, dass das letzte Volumen über 300% des Durschnittsvolumens (der letzten 40 Tage) betrug.

# Ergebnisse  

Die Tabelle zeigt genau diese Werte für die letzten fünf Handelstage an; Klicken auf die Spaltenköpfe sortiert die Werte und man kann Werte über eins identifizieren.

```{r plot_tbl, results='asis'}

table <- data.frame(Share=names(tail(dax_vbt,1)),          
                      t(tail(round(dax_vbt,2),5)))
names(table)[-1] <- as.character(index(tail(dax_vbt,5)))
Table <- gvisTable(table)
plot(Table)
```

Die Kürzel sind die Kürzel auf http://finance.yahoo.com .

# Nächste Schritte  

_Next Steps:_

- Kürzel ersetzen mit richtigen Namen?
- Berechne den aktuellen Status des "Signals" und weise nur "neue Werte" über eins aus.
- füge Grafiken hinzu.

-----

END OF FILE
